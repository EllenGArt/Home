<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .background-container {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: url('https://unblast.com/wp-content/uploads/2021/01/Space-Background-Images.jpg'); /* Replace with your background image URL */
      background-size: cover;
      background-repeat: no-repeat;
    }

    .moving-object {
      position: absolute;
      transition: transform 5s ease-in-out;
      cursor: grab;
      user-select: none;
      user-drag: element;
    }
  </style>
  <title>Ellen test</title>
</head>
<body>
  <div class="background-container"></div>
  <div id="object1" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 1"></div>
  <div id="object2" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 2"></div>
  <div id="object2" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 2"></div>
  <div id="object2" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 2"></div>

  <script>
    const objects = document.querySelectorAll('.moving-object');

    objects.forEach((object, index) => {
      let isDragging = false;
      let offsetX, offsetY;

      const initialDelay = index * 700; // Adjust the delay for each object

      setTimeout(() => {
        // Set initial random positions for each object
        const maxX = window.innerWidth - object.clientWidth;
        const maxY = window.innerHeight - object.clientHeight;

        const initialX = Math.random() * maxX;
        const initialY = Math.random() * maxY;

        object.style.transform = `translate(${initialX}px, ${initialY}px)`;

        object.addEventListener('mousedown', startDrag);
        object.addEventListener('touchstart', startDrag);

        document.addEventListener('mousemove', (e) => drag(e, object));
        document.addEventListener('touchmove', (e) => drag(e, object));

        document.addEventListener('mouseup', stopDrag);
        document.addEventListener('touchend', stopDrag);

        function startDrag(e) {
          isDragging = true;
          const { clientX, clientY } = e.type.startsWith('touch') ? e.touches[0] : e;
          offsetX = clientX - object.getBoundingClientRect().left;
          offsetY = clientY - object.getBoundingClientRect().top;

          // Adjust the transition time when dragging
          object.style.transition = 'transform 0.1s ease-in-out';

          object.style.cursor = 'grabbing';
        }

        function drag(e, object) {
          if (!isDragging) return;
          const { clientX, clientY } = e.type.startsWith('touch') ? e.touches[0] : e;
          const newX = clientX - offsetX;
          const newY = clientY - offsetY;
          object.style.transform = `translate(${newX}px, ${newY}px)`;
        }

        function stopDrag() {
          isDragging = false;

          // Restore the transition time when not dragging
          object.style.transition = 'transform 5s ease-in-out';

          object.style.cursor = 'grab';
        }

        function moveObjectRandomly() {
          if (!isDragging) {
            const maxX = window.innerWidth - object.clientWidth;
            const maxY = window.innerHeight - object.clientHeight;

            const newX = Math.random() * maxX;
            const newY = Math.random() * maxY;

            object.style.transform = `translate(${newX}px, ${newY}px)`;
          }

          // Adjust the interval (currently set to 5 seconds) for more frequent movement
          setTimeout(moveObjectRandomly, 5000);
        }

        // Initial move on page load
        moveObjectRandomly();
      }, initialDelay);
    });
  </script>
</body>
</html>
