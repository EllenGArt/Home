<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .background-container {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: url('https://unblast.com/wp-content/uploads/2021/01/Space-Background-Images.jpg'); /* Replace with your background image URL */
      background-size: cover;
      background-repeat: no-repeat;
    }

    .moving-object {
      position: absolute;
      cursor: grab;
      user-select: none;
      user-drag: none;
      transform-origin: top left;
    }
  </style>
  <title>Ellen's Test</title>
</head>
<body>
  <div class="background-container"></div>
  <div id="object1" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 1"></div>
  <div id="object2" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 2"></div>
  <div id="object3" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 3"></div>
  <div id="object4" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 4"></div>
  <div id="object5" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 5"></div>
  <div id="object6" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 6"></div>
  <div id="object7" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 7"></div>
  <div id="object8" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 8"></div>
  <div id="object9" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 9"></div>
  <div id="object10" class="moving-object"><img src="https://cdn.cyberduck.io/img/cryptomator_256.png" alt="Image 10"></div>

  <script>
    const objects = document.querySelectorAll('.moving-object');

    objects.forEach((object, index) => {
      let isDragging = false;
      let offsetX, offsetY;
      let transitionDuration = 5; // Initial transition duration in seconds

      const initialDelay = index * 10000; // Adjust the delay for each object

      setTimeout(() => {
        const startLocations = [
          { left: 100, top: 100 },
          { left: 200, top: 200 },
          { left: 300, top: 300 },
          { left: 400, top: 400 },
          { left: 500, top: 500 },
          { left: 600, top: 600 },
          { left: 700, top: 700 },
          { left: 800, top: 800 },
          { left: 900, top: 900 },
          { left: 1000, top: 1000 }
        ];

        const startLocation = startLocations[index];

        object.style.transition = `transform ${transitionDuration}s ease-in-out`;
        object.style.transform = `translate(${startLocation.left}px, ${startLocation.top}px)`;

        object.addEventListener('mousedown', startDrag);
        object.addEventListener('touchstart', startDrag);

        document.addEventListener('mousemove', (e) => drag(e, object));
        document.addEventListener('touchmove', (e) => drag(e, object));

        document.addEventListener('mouseup', stopDrag);
        document.addEventListener('touchend', stopDrag);

        function startDrag(e) {
          isDragging = true;
          const { clientX, clientY } = e.type.startsWith('touch') ? e.touches[0] : e;
          offsetX = clientX - object.getBoundingClientRect().left;
          offsetY = clientY - object.getBoundingClientRect().top;

          // Adjust the transition time when dragging
          transitionDuration = 0.1;
          object.style.transition = `transform ${transitionDuration}s ease-in-out`;

          object.style.cursor = 'grabbing';
        }

        function drag(e, object) {
          if (!isDragging) return;
          const { clientX, clientY } = e.type.startsWith('touch') ? e.touches[0] : e;
          const newX = clientX - offsetX;
          const newY = clientY - offsetY;
          object.style.transform = `translate(${newX}px, ${newY}px)`;
        }

        function stopDrag() {
          isDragging = false;

          // Gradually transition to the new position when not dragging
          transitionDuration = 6;
          object.style.transition = `transform ${transitionDuration}s ease-in-out`;

          object.style.cursor = 'grab';
        }

        function moveObjectRandomly() {
          if (!isDragging) {
            // Pause for 1 second before moving to the next position
            setTimeout(() => {
              const maxX = window.innerWidth - object.clientWidth;
              const maxY = window.innerHeight - object.clientHeight;

              const newX = Math.random() * maxX;
              const newY = Math.random() * maxY;

              object.style.transform = `translate(${newX}px, ${newY}px)`;
            }, 500);
          }

          // Adjust the interval (currently set to 6 seconds) for more frequent movement
          setTimeout(moveObjectRandomly, 6000);
        }

        // Initial move on page load
        moveObjectRandomly();
      }, initialDelay);
    });
  </script>
</body>
</html>
